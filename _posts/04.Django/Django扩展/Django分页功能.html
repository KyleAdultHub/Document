---
title: Django-分页功能
date: "2016-10-14 22:00:00"
categories:
- Django
- Django拓展
tags:
- Django
toc: true
---

<html>
<body>
<div>
<span><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><span style="background-color: rgb(255, 250, 165); font-size: 14pt; color: rgb(50, 135, 18); font-weight: bold; line-height: 1.45;-evernote-highlight:true;">Django分页功能</span></span></div><div><ul><li><span style="font-size: 10pt; font-weight: bold;">Django分页功能的介绍</span></li><ul><li><span style="font-size: 9pt;">在Django内部，它提供了对数据进行分页功能的类，这些类被定义在</span><span style="font-size: 9pt; font-weight: bold;">django.core.paginator</span><span style="font-size: 9pt;">中</span></li><li><span style="font-size: 9pt;">它主要包括</span><span style="font-size: 9pt; line-height: 1.45;">两个对象：<span style="font-size: 9pt; line-height: 1.45;">Paginator和Page</span><span style="font-size: 9pt; line-height: 1.45;">对象</span></span></li><ul><li><font style="font-size: 9pt;"><span style="font-size: 9pt; line-height: 1.45;">Paginator是用来对获取的数据进行分页处理的，把一组数据按照我们设定的规则，每页n条进行分隔，</span><span style="font-size: 9pt; line-height: 1.45;">分页显示。</span></font></li><li><span style="font-size: 9pt; line-height: 1.45;">对象Page用于表示第m页的数据</span></li></ul></ul><li><font style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold; line-height: 13.600000381469727px;">创建分页对象的方法</span></font></li><ul><li><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold; line-height: 13.600000381469727px;">创建分页对象</span></font></li><ul><li><span style="font-size: 9pt; line-height: 13.600000381469727px;">第一种方法</span></li><ul><li><font style="font-size: 9pt;"><span style="font-size: 9pt; line-height: 13.600000381469727px;">pag_object = paginator(List，num)</span></font></li><ul><li><font style="font-size: 9pt;"><span style="font-size: 9pt; line-height: 13.600000381469727px;">List为查询获取的数据库表的实例对象的集合</span></font></li><li><font style="font-size: 9pt;"><span style="font-size: 9pt; line-height: 13.600000381469727px;">num是要将这些对象分成几页</span></font></li></ul></ul><li><span style="font-size: 9pt; line-height: 13.600000381469727px;">第二种方法</span></li><ul><li><span style="font-size: 9pt; line-height: 13.600000381469727px;">pag_object = paginator.init(List, int)</span></li><ul><li><span style="font-size: 9pt; line-height: 13.600000381469727px;">List为查询获取的数据库表的实例对象的集合</span></li><li><span style="font-size: 9pt; line-height: 13.600000381469727px;">num是要将这些对象分成几页</span></li></ul></ul></ul><li><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold; line-height: 13.600000381469727px;">创建单页对象</span></font></li><ul><li><font style="font-size: 9pt;"><span style="font-size: 9pt; line-height: 13.600000381469727px;">single_page_obj = pag_obj.page(num)</span></font></li><ul><li><span style="font-size: 9pt; line-height: 13.600000381469727px;">num为想要创建第几页的单页对象</span></li><li><span style="font-size: 9pt; line-height: 13.600000381469727px;">单页对象是可迭代对象，获取的每个值是单页中的每个模型类实例对象</span></li></ul></ul></ul><li><font style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold; line-height: 13.600000381469727px;">分页对象的属性</span></font></li><ul><li><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold;">Paginator对象</span></font></li><ul><li><span style="font-size: 9pt; line-height: 13.600000381469727px;">对象常用属性</span></li><ul><li><span style="font-size: 9pt; line-height: 13.600000381469727px;">count                   返回模型实例对象总数</span></li><li><span style="font-size: 9pt; line-height: 13.600000381469727px;">num_pages         返回页面总数</span></li><li><font style="font-size: 9pt;"><span style="font-size: 9pt; line-height: 13.600000381469727px;">page_range        返回页码列表，从1开始，例如：[1, 2, 3, 4]</span></font></li></ul><li><span style="font-size: 9pt; line-height: 13.600000381469727px;">对象常用方法</span></li><ul><li><span style="font-size: 9pt; line-height: 13.600000381469727px;">page(m)                    返回page对象，表示第页的数据，下标以1开始</span></li></ul></ul><li><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold; line-height: 13.600000381469727px;">page对象</span></font></li><ul><li><span style="font-size: 9pt; line-height: 13.600000381469727px;">获取page对象的方法</span></li><ul><li><span style="font-size: 9pt; line-height: 13.600000381469727px;">single_page_obj = </span><span style="font-size: 9pt; line-height: 13.600000381469727px;">paginator实例对象.page(num)          调用pafinator对象的的page()方法返回Page对象</span></li><ul><li><span style="font-size: 9pt; line-height: 13.600000381469727px;">单页对象是可迭代对象，获取的每个值是单页中的每个模型类实例对象</span></li></ul></ul><li><span style="font-size: 9pt; line-height: 13.600000381469727px;">对象常用属性</span></li><ul><li><span style="font-size: 9pt;">object_list                   </span><span style="font-size: 9pt; line-height: 1.45;">返回当前页对象的列表</span></li><li><span style="font-size: 9pt;">number                       </span><span style="font-size: 9pt; line-height: 1.45;">返回当前是第几页，从1开始</span></li><li><span style="font-size: 9pt;">Paginator                    </span><span style="font-size: 9pt; line-height: 1.45;">当前页对应的Paginator对象</span></li></ul><li><span style="font-size: 9pt; line-height: 1.45;">常用实例方法：</span></li><ul><li><span style="font-size: 9pt;">has_next()                   </span><span style="font-size: 9pt; line-height: 1.45;">如果有下一页返回True</span></li><li><span style="font-size: 9pt;">has_previous()          </span> <span style="font-size: 9pt; line-height: 1.45;">如果有上一页返回True</span></li><li><dl><dt><font style="font-size: 9pt;">page.next_page_number( )</font></dt><dd><div><font style="font-size: 9pt;">返回下一页的页码。如果下一页不存在，抛出 InvalidPage异常。</font></div></dd></dl></li><li><dl><dt><font style="font-size: 9pt;">page.previous_page_number( )</font></dt><dd><div><font style="font-size: 9pt;">返回上一页的页码。如果上一页不存在，抛出 InvalidPage异常。</font></div></dd></dl></li><li><span style="font-size: 9pt;">len()                             </span><span style="font-size: 9pt; line-height: 1.45;">返回当前页面对象的个数</span></li></ul></ul></ul><li><font style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold; line-height: 13.600000381469727px;">分页的应用方法</span></font></li><ul><li><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold; line-height: 13.600000381469727px;">在view函数中</span></font></li><ul><li><span style="font-size: 9pt; line-height: 13.600000381469727px;">创建paginator的和page的实例对象，然后根据逻辑判断，将需要传递给模板的对象传递给模板文件</span></li></ul><li><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold; line-height: 13.600000381469727px;">在模板文件中</span></font></li><ul><li><span style="font-size: 9pt; line-height: 13.600000381469727px;">根据paginator 和page的实例对象利用变量标签获取需要显示的内容，将获取的数值进行和标签元素进行呢嵌套和拼接等，进行显示</span></li></ul><li><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold; line-height: 13.600000381469727px;">设置访问url</span></font></li><ul><li><font style="font-size: 9pt;"><span style="font-size: 9pt; line-height: 13.600000381469727px;">设置包含关键字参数的url，在点击不同页面的时候，传入不同的页面参数，访问不同的页面</span></font></li></ul></ul><li><font style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold; line-height: 13.600000381469727px;">示例：</span></font></li><ul><li><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold; line-height: 13.600000381469727px;">模板文件</span></font></li><ul><li><span style="font-size: 9pt;"><img src="/e_img/Django分页功能_files/Image.png" type="image/png" data-filename="Image.png" width="399"/></span></li></ul><li><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold;">设置view函数</span></font></li><ul><li><img src="/e_img/Django分页功能_files/Image [1].png" type="image/png" data-filename="Image.png" style="font-size: 9pt;" width="488"/></li></ul><li><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold;">设置访问url</span></font></li><ul><li><span style="font-size: 9pt;"><img src="/e_img/Django分页功能_files/Image [2].png" type="image/png" data-filename="Image.png" width="460"/></span></li></ul></ul></ul></div><div><br/></div></span>
</div></body></html>