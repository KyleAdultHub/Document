---
title: NumPy ndarray基本操作
date: "2017-05-23 14:00:00"
categories:
- 机器学习
- Numpy、Pandas
tags:
- 数据处理
- numpy
toc: true
typora-root-url: ..\..\..
---

<html>
<body>
<div>
<span><div><div><font style="background-color: rgb(255, 250, 165);font-size: 14pt;-evernote-highlight:true;"><span style="background-color: rgb(255, 250, 165); font-size: 14pt; color: rgb(50, 135, 18); font-weight: bold;-evernote-highlight:true;">nda</span><span style="background-color: rgb(255, 250, 165); font-size: 14pt; color: rgb(50, 135, 18); font-weight: bold;-evernote-highlight:true;">rray 多维数组(N Dimension Array)</span></font></div><div><ul><li><div><font style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold;">ndarray多维数组的介绍</span></font></div></li><ul><li><div><span style="font-size: 9pt;">NumPy数组是一个多维的数组对象（矩阵），称为ndarray，具有高效的算术运算能力和复杂的广播能力，并具有执行速度快和节省空间的特点。</span></div></li></ul><li><div><span style="font-size: 10pt; font-weight: bold;">ndarray拥有的属性</span></div></li><ul><li><div><span style="font-size: 9pt;">ndim属性： 维度个数<span style="font-size: 9pt;">，整数类型</span></span></div></li><li><div><span style="font-size: 9pt;">shape属性：维度大小<span style="font-size: 9pt;">，返回的是一个元组，表示每个维度包含下级元素的个数</span></span></div></li><li><div><span style="font-size: 9pt;">dtype属性：数据类型，ndarray的数据类型其中一种</span></div></li></ul></ul></div><div><ul><li><div><font style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold;">导入模块的方式</span></font></div></li><ul><li><div><span style="font-size: 9pt;">import numpy as np</span></div></li></ul></ul><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><font style="font-size: 14pt;"><span style="background-color: rgb(255, 250, 165); font-size: 14pt; color: rgb(50, 135, 18); font-weight: bold;-evernote-highlight:true;">ndarray的数据类型</span></font></span></div></div><div><ul><li><div>ndarray的数据类型要保持统一</div></li><ul><li><div><span style="font-size: 9pt;"><img src="/e_img/Numpy ndarray基本操作_files/Image.png" type="image/png" data-filename="Image.png" width="474"/></span></div></li></ul></ul></div><div><font style="background-color: rgb(255, 250, 165);font-size: 14pt;-evernote-highlight:true;"><span style="background-color: rgb(255, 250, 165); font-size: 14pt; color: rgb(50, 135, 18); font-weight: bold;-evernote-highlight:true;">ndarray数据的创建和转化</span></font></div><ul><li><div><span style="font-weight: bold;">数组的创建</span></div></li><ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold;"> 随机数组创建 </span><span style="font-size: 9pt; font-weight: bold;">np.random</span></font></div></li><ul><li><div><span style="font-size: 9pt; font-weight: bold;">np.random.rand(v1, v2, v3 , ...)</span> <span style="font-size: 9pt;"> </span><span style="font-size: 9pt; font-weight: bold;"> </span><span style="font-size: 9pt; font-weight: bold;">生成指定唯独的随机多浮点数组，数据的区间为0.0~1.0</span></div></li><ul><li><div><span style="font-size: 9pt;">参</span><span style="font-size: 9pt;">数：有几个代表创建的是几维数组</span></div></li><ul><li><div><span style="font-size: 9pt;">最后一个参数表示每个一维数组有几个元素</span></div></li><li><div><span style="font-size: 9pt;">倒数第二个参数表示二维数组有几个一维数组 </span></div></li><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt;">倒数第三个参数表示三维数组有几个二维数组，以</span><span style="font-size: 9pt;">此类推</span></font></div></li><li><div>生成一个v1*v2*v3的多维数组</div></li></ul><li><div><span style="font-size: 9pt;">示例：</span></div></li><ul><li><div><span style="font-size: 9pt;"><img src="/e_img/Numpy ndarray基本操作_files/Image [1].png" type="image/png" data-filename="Image.png" width="382"/></span></div></li></ul></ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold;">np.random.randn(n)  生成一个包含指定元素个数的正太分布数组</span></font></div></li><ul><li><div><span style="font-size: 9pt;">参数</span></div></li><ul><li><div><span style="font-size: 9pt;">n:表示数组中包含正态分布元素个数</span></div></li></ul><li><div><span style="font-size: 9pt;">示例</span></div></li><ul><li><div><span style="font-size: 9pt;"><img src="/e_img/Numpy ndarray基本操作_files/Image [2].png" type="image/png" data-filename="Image.png"/></span></div></li></ul></ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold;">np.random.uniform(start, end, size=（x, y, z）</span><span style="font-size: 9pt;">）</span><span style="font-size: 9pt; font-weight: bold;">生成指定维度大小的随机多维浮点数组，可指定数字区间</span></font></div></li><ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt;">参数</span></font></div></li><ul><li><div><span style="font-size: 9pt;">start: 表示数据的起始范围</span></div></li><li><div><span style="font-size: 9pt;">end：表示数据的终止范围区间</span></div></li><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt;">size：表示数组的大小, 维度大小为x*y*z</span></font></div></li></ul><li><div><span style="font-size: 9pt;">示例</span></div></li><ul><li><div><span style="font-size: 9pt;"><img src="/e_img/Numpy ndarray基本操作_files/Image [3].png" type="image/png" data-filename="Image.png" width="514"/></span></div></li></ul></ul><li><div><span style="font-size: 9pt; font-weight: bold;">np.random.randint(start, end,</span> <span style="font-size: 9pt; font-weight: bold;">size=（x, y, z)</span><span style="font-size: 9pt; font-weight: bold;"> )</span> <span style="font-size: 9pt;"> <span style="font-size: 9pt; font-weight: bold;">生成指定维度大小的随机多维整形数组，可指定数字区间</span></span></div></li><ul><li><div><span style="font-size: 9pt;">参数</span></div></li><ul><li><div><span style="font-size: 9pt;">start: 表示数据的起始范围</span></div></li><li><div><span style="font-size: 9pt;">end：表示数据的终止范围区间</span></div></li><li><div><span style="font-size: 9pt;">size：表示数组的大小</span><span style="font-size: 9pt;">, 维度大小为x*y*z</span></div></li></ul><li><div><span style="font-size: 9pt;">示例</span></div></li><ul><li><div><span style="font-size: 9pt;"><img src="/e_img/Numpy ndarray基本操作_files/Image [4].png" type="image/png" data-filename="Image.png" width="534"/></span></div></li></ul></ul></ul><li><div><span style="font-size: 9pt; font-weight: bold;">指定序列的方式创建</span></div></li><ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold;">np.array(list/list of list，</span><span style="font-size: 9pt; font-weight: bold;">[</span><span style="font-size: 9pt; font-weight: bold;">dtype</span><span style="font-size: 9pt; font-weight: bold;">]</span><span style="font-size: 9pt; font-weight: bold;">)   生成指定的数组</span></font></div></li><ul><li><div><span style="font-size: 9pt;">参数</span></div></li><ul><li><div><span style="font-size: 9pt;">list 为 序列型对象(list)、嵌套序列对象(list of list)</span></div></li><li><div><span style="font-size: 9pt;">dtype表示数据类型 （int、float、str）</span></div></li></ul><li><div><span style="font-size: 9pt;">示例</span></div></li><ul><li><div><span style="font-size: 9pt;"><img src="/e_img/Numpy ndarray基本操作_files/Image [5].png" type="image/png" data-filename="Image.png" width="238"/></span></div></li></ul></ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold;">np.arange(param1, [param2, step])  </span><span style="font-size: 9pt; font-weight: bold;">可以像 np.array(range()) 一样创建一个连续元素的一维的ndarray</span></font></div></li><ul><li><div><span style="font-size: 9pt;">参数</span></div></li><ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt;">param1: 表示param1-param2区间(左闭右开)的所有整数，param2省略表示0-param1</span></font></div></li><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt;">step: 表示选取区间元素时的步长，默认为1</span></font></div></li></ul><li><div><span style="font-size: 9pt;">示例</span></div></li><ul><li><div><span style="font-size: 9pt;"><img src="/e_img/Numpy ndarray基本操作_files/Image [6].png" type="image/png" data-filename="Image.png" width="322"/></span></div></li></ul></ul></ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold;">数组的初始化</span></font></div></li><ul><li><div><span style="font-size: 9pt; font-weight: bold;">np.zeros((param1, param2), [</span><span style="font-size: 9pt; font-weight: bold;">dtype</span><span style="font-size: 9pt; font-weight: bold;">])    生成指定大小的全0数组</span></div></li><ul><li><div><span style="font-size: 9pt;">参数：</span></div></li><ul><li><div><span style="font-size: 9pt;">生成param1*param2的多维数组</span></div></li><li><div><span style="font-size: 9pt;">dtype：指定数据的类型，默认为float浮点型</span></div></li></ul><li><div><span style="font-size: 9pt;">示例</span></div></li><ul><li><div><span style="font-size: 9pt;"><img src="/e_img/Numpy ndarray基本操作_files/Image [7].png" type="image/png" data-filename="Image.png" width="198"/></span></div></li></ul></ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold;">np.ones(</span><span style="font-size: 9pt; font-weight: bold;">(param1, param2), <span style="font-size: 9pt; font-weight: bold;">[</span><span style="font-size: 9pt; font-weight: bold;">dtype</span><span style="font-size: 9pt; font-weight: bold;">]</span></span><span style="font-size: 9pt; font-weight: bold;">)  生成大小全部为1的数组</span></font></div></li><ul><li><div><span style="font-size: 9pt;">参数：</span></div></li><ul><li><div><span style="font-size: 9pt;">生成param1*param2的多维数组</span></div></li><li><div><span style="font-size: 9pt;">dtype：指定数据的类型，默认为float浮点型</span></div></li></ul><li><div><span style="font-size: 9pt;">示例</span></div></li><ul><li><div><span style="font-size: 9pt;"><img src="/e_img/Numpy ndarray基本操作_files/Image [8].png" type="image/png" data-filename="Image.png" width="198"/></span></div></li></ul></ul></ul></ul><li><div><font style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold;">数组的转化</span></font></div></li><ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold;">ndarray.reshape(param1， param2)   用来重新</span><span style="font-size: 9pt; font-weight: bold;">修改数组的维度，修改每个维度大小，不改变原数组</span></font></div></li><ul><li><div><span style="font-size: 9pt;">参数</span></div></li><ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt;">param2：表示重新定义的维度的数组的一维数组有多少个元素</span></font></div></li><li><div><span style="font-size: 9pt;">param1：表示重新定义维度的数组的二维数组有多少个一维数组，以此类推</span></div></li></ul><li><div><span style="font-size: 9pt;">示例</span></div></li><ul><li><div><span style="font-size: 9pt;"><img src="/e_img/Numpy ndarray基本操作_files/Image [9].png" type="image/png" data-filename="Image.png" width="285"/></span></div></li></ul><li><div><span style="font-size: 9pt;">备注</span></div></li><ul><li><div><span style="font-size: 9pt;">必须保证修改后的数组的元素和原数组元素个数相同</span></div></li></ul></ul><li><div><span style="font-size: 9pt; font-weight: bold;">np.random.shuffle(ndarray)</span> <span style="font-size: 9pt;"> <span style="font-size: 9pt; font-weight: bold;">用来打乱数组序列，重新排列（类似于洗牌），会改变原数组</span></span></div></li><ul><li><div><span style="font-size: 9pt;">参数：</span></div></li><ul><li><div><span style="font-size: 9pt;">ndarray：传入一个数组对象</span></div></li></ul><li><div><span style="font-size: 9pt;">示例</span></div></li><ul><li><div><span style="font-size: 9pt;"><img src="/e_img/Numpy ndarray基本操作_files/Image [10].png" type="image/png" data-filename="Image.png" width="309"/></span></div></li></ul></ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold;">ndarray.astype(dtype)   用来转换数组的数据类型  </span></font></div></li><ul><li><div><span style="font-size: 9pt;">参数</span></div></li><ul><li><div><span style="font-size: 9pt;">dtype：转化的数据类型</span></div></li></ul><li><div><span style="font-size: 9pt;">示例</span></div></li><ul><li><div><span style="font-size: 9pt;"><img src="/e_img/Numpy ndarray基本操作_files/Image [11].png" type="image/png" data-filename="Image.png" width="306"/></span></div></li></ul></ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold;">ndarray.transpose((x, y, z))  ndarray的维度转置，不改变原数组</span></font></div></li><ul><li><div><span style="font-size: 9pt;">参数</span></div></li><ul><li><div><span style="font-size: 9pt;">x，y, z: 对应将之前维度替换为当前的维度映射</span></div></li></ul><li><div><span style="font-size: 9pt;">备注</span></div></li><ul><li><div><span style="font-size: 9pt;">二维数组直接使用转换函数，将行和列进行转换：transpose()</span></div></li><li><div><span style="font-size: 9pt;">高维数组转换要指定维度编号参数 (0, 1, 2, …)，注意参数是元组</span></div></li><li><div><span style="font-size: 9pt;">维度和元素总个数不能改变，只能改变每个维度的大小</span></div></li></ul><li><div><span style="font-size: 9pt;">示例</span></div></li><ul><li><div><span style="font-size: 9pt;"><img src="/e_img/Numpy ndarray基本操作_files/Image [12].png" type="image/png" data-filename="Image.png" width="332"/></span></div></li></ul></ul></ul></ul><div><br/></div><div><b style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><span style="background-color: rgb(255, 250, 165); font-size: 14pt; font-weight: bold; color: rgb(50, 135, 18);-evernote-highlight:true;">ndarray的矩阵运算</span></b></div><div><ul><li><div><font style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold;">ndarray的矩阵运算的介绍</span></font></div></li><ul><li><div><span style="font-size: 9pt;">矩阵、标量、向量/矢量是数学概念，数组是编程中的概念。</span></div></li><li><div><span style="font-size: 9pt;">在计算机编程中，矩阵可以用数组形式表示，标量可以用数值表示，向量/矢量可以用数据结构表示。</span></div></li><li><div><span style="font-size: 9pt;">向量化/矢量化：就是将自然数据，转化为计算机可以处理的数据结构。</span></div></li></ul><li><div><font style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold;">数组和数组之间的运算</span></font></div></li><ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt;">运算方法：</span></font></div></li><ul><li><div><span style="font-size: 9pt;">数组和数组之间的运算：arr2 + arr2 , 将两个数组维度大小一致、数组维度个数一致、元素个数一致的数组，按下标对应进行运算，并返回新的数组副本</span></div></li><li><div><span style="font-size: 9pt;">尾部维度相同情况：如果一个一维数组的列数和另一个多维数组的列数相同，可以参与运算，相当于将多维数组拆分为多个一维数组运算，最后合并一个多维数组</span></div></li><li><div><span style="font-size: 9pt;">ndarray的矩阵运算 + - * / ** // %， &lt;  &gt;  == </span></div></li><li><div><span style="font-size: 9pt;">当数据类型不一致时，那么int--&gt;float, int/float--&gt;str</span></div></li></ul><li><div><span style="font-size: 9pt;">示例</span></div></li><ul><li><div><span style="font-size: 9pt;"><img src="/e_img/Numpy ndarray基本操作_files/Image [13].png" type="image/png" data-filename="Image.png" width="343"/></span></div></li></ul></ul><li><div><font style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold;">数组和数值之间的运算（广播运算）</span></font></div></li><ul><li><div><span style="font-size: 9pt;">运算方法</span></div></li><ul><li><div><span style="font-size: 9pt;">将数组的每个元素与数值相运算，返回维度一致的新数组</span></div></li><li><div><span style="font-size: 9pt;">ndarray的矩阵运算 + - * / ** // %<span style="font-size: 9pt;">， &lt;  &gt;  == </span></span></div></li></ul><li><div><span style="font-size: 9pt;">示例</span></div></li><ul><li><div><span style="font-size: 9pt;"><img src="/e_img/Numpy ndarray基本操作_files/Image [14].png" type="image/png" data-filename="Image.png" width="401"/></span></div></li></ul></ul></ul><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><font style="font-size: 14pt;"><span style="background-color: rgb(255, 250, 165); font-size: 14pt; color: rgb(50, 135, 18); font-weight: bold;-evernote-highlight:true;">ndarray的索引与切片</span></font></span></div></div><div><ul><li><div><font style="font-size: 11pt;"><span style="font-size: 11pt; font-weight: bold;">一维度数据的索引与切片</span></font></div></li><ul><li><div><span style="font-size: 9pt; font-weight: bold;">语法</span><span style="font-size: 9pt;">：</span></div></li><ul><li><div><span style="font-size: 9pt;">索引：arr[i]</span></div></li><li><div><span style="font-size: 9pt;">切片：arr[r1:r2]</span></div></li></ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold;">示例</span></font></div></li><ul><li><div><span style="font-size: 9pt;"><img src="/e_img/Numpy ndarray基本操作_files/Image [15].png" type="image/png" data-filename="Image.png" width="177"/></span></div></li></ul></ul><li><div><font style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold;">多维数的的索引与切片</span></font></div></li><ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold;">语法：</span></font></div></li><ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt;">索引：</span></font></div></li><ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt;">取单个索引</span></font></div></li><ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt;">arr[1,1] &lt;==&gt; arr[1][1]</span></font></div></li></ul></ul><li><div><span style="font-size: 9pt;">切片：</span></div></li><ul><li><div><span style="font-size: 9pt;">连续切片</span></div></li><ul><li><div><span style="font-size: 9pt;">arr[1][1:4]     取一行多列</span></div></li><li><div><span style="font-size: 9pt;">arr[r1:r2, c1:c2]      取多行多列</span></div></li><li><div><span style="font-size: 9pt;">arr[r1:r2][c1:c2]    多行多列错误的写法</span></div></li></ul><li><div><span style="font-size: 9pt;">不连续索引切片</span></div></li><ul><li><div><span style="font-size: 9pt;">arr[ [0, 2] ]     返回   [ arr[0]  arr[2] ]</span></div></li><li><div><span style="font-size: 9pt;">arr[ [0, 2], [0, -1] ]     返回   [ arr[0][0]  arr[2][-1] ]</span></div></li></ul></ul></ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold;">示例</span></font></div></li><ul><li><div><img src="/e_img/Numpy ndarray基本操作_files/Image [16].png" type="image/png" data-filename="Image.png" style="font-size: 9pt;" width="316"/></div></li></ul></ul><li><div><font style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold;">条件索引</span></font></div></li><ul><li><div><span style="font-size: 9pt; font-weight: bold;">语法：</span></div></li><ul><li><div><span style="font-size: 9pt;">arr[condition]，condition也可以是多个条件组合。</span></div></li><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt;">多个条件组合要使用 &amp; | ~ 连接，而不是Python的 and or not。</span></font></div></li></ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold;">原理</span></font></div></li><ul><li><div><span style="font-size: 9pt;">将bool索引应用到被过滤的数组上，将返回bool值为True的数据组成的一维数组</span></div></li></ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold;">示例</span></font></div></li><ul><li><div><img src="/e_img/Numpy ndarray基本操作_files/Image [17].png" type="image/png" data-filename="Image.png" style="font-size: 9pt;" width="419"/></div></li></ul></ul><li><div><span style="font-size: 9pt;">查询数组中元素的索引</span></div></li><ul><li><div><span style="font-size: 9pt;">np.argwhere(condition)</span></div></li><ul><li><div><span style="font-size: 9pt;">查询满足条件元素的索引</span></div></li></ul></ul></ul></div><div><b style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><span style="background-color: rgb(255, 250, 165); font-size: 14pt; font-weight: bold; color: rgb(50, 135, 18);-evernote-highlight:true;">数组和python列表之间的转化</span></b></div><div><ul><li><div><font style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold;">将数组转化为列表</span></font></div></li><ul><li><div><span style="font-size: 9pt;">list = arr.tolist( )  返回的是一个列表</span></div></li></ul></ul></div><div><br/></div></div><div><br/></div></span>
</div></body></html>