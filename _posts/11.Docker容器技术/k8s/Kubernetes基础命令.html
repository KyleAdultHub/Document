---
title: Kubernetes基础命令
date: "2018-10-23 23:00:00"
categories:
- Docker容器技术
- k8s
tags:
- Docker
- k8s
toc: true
---

<html>
<body>
<div>
<span><div><font style="font-size: 12pt;"><b>0.查看集群状态</b></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>kubectl cluster-info</div></div><div><font style="font-size: 12pt;"><b>1.查看创建的资源</b></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Segoe UI;">kubectl get pod | nodes | deployment | service | secret | namespace | imges --namespace=test</span></div><div><span style="font-family: Segoe UI;"><span>    </span><span>    </span>-l  : 根据lable筛选</span></div><div><span style="font-family: Segoe UI;"><span>    </span><span>    </span>--all-namcpaces : 查看所有的namespaces</span></div></div><div><span style="border: 0px; line-height: 1.125em; color: rgb(0, 0, 0); font-family: &quot;Segoe UI&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, Lato, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;"><font style="font-size: 12pt;"><b>2.查看资源的状态</b></font></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Segoe UI;">kubectl describe pod | nodes | deployment | service | secret [name]</span></div></div><div><font style="font-size: 12pt;"><b>3.<span style="border: 0px; line-height: 1.125em; color: rgb(0, 0, 0); font-family: &quot;Segoe UI&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, Lato, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;">查看某个资源的详细配置文件</span></b></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>kubectl get describe pod | deployment | service | secret [name] -o yaml</div></div><div><font style="font-size: 12pt;"><b>4.创建资源<span style="border: 0px; line-height: 1.125em; color: rgb(0, 0, 0); font-family: &quot;Segoe UI&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, Lato, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;">  (不推荐, 不能更新, 一定要先删除再重新create)</span></b></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>kubectl  create -f front-controller.yaml</div></div><div><span style="font-family: &quot;Segoe UI&quot;;"><font style="font-size: 12pt;"><b>5.更新资源<span style="font-family: &quot;Segoe UI&quot;;">（创建+更新，可以重复使用）</span></b></font></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 10pt; font-family: &quot;Segoe UI&quot;;"><span style="font-family: Segoe UI;">kubectl apply -f xxx.yaml</span></span></div><div><span style="font-family: Segoe UI;"><span>    </span><span>    </span>-n 指定命名空间</span></div></div><div><span style="font-family: &quot;Segoe UI&quot;;"><font style="font-size: 12pt;"><b>6.删除资源</b></font></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Segoe UI;">kubectl delete pod | nodes | deployment | service | secret --namespace=test</span></div></div><div><font style="font-size: 12pt;"><b>7.查看pod的历史版本</b></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>kubectl rollout history deployment [name]</div></div><div><font style="font-size: 12pt;"><b>8.<span style="font-family: &quot;Segoe UI&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, Lato, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;">回滚到上一版本</span></b></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>kubectl rollout undo deployment [name]</div><div><span>    </span><span>    </span>--to-revision=1  回滚到某一版本</div></div><div><span style="border: 0px; line-height: 1.125em; color: rgb(0, 0, 0); font-family: &quot;Segoe UI&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, Lato, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;"><font style="font-size: 12pt;"><b>9.回滚到某一版本</b></font></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>kubectl rollout undo deployment [name]</div></div><div><font style="font-size: 12pt;"><b>10.进入到某一容器</b></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>kubectl exec -it [name] --namespace=test -- /bin/bash</div></div><div><font style="font-size: 12pt;"><b>11.<span style="font-family: &quot;Segoe UI&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, Lato, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;">查看某个容器的日志</span></b></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>kubectl logs [name] --namespace=test</div></div><div><font style="font-size: 12pt;"><b>12.deployment扩容</b></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>kubectl scale deployment [name] --replicas=8</div></div><div><font style="font-size: 12pt;"><b>13.将node设为不可调度状态</b></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>kubectl cordon node_name</div></div><div><font style="font-size: 12pt;"><b>14.解除node不可调度状态</b></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 9pt;">kubectl uncordon <span style="font-family: Monaco; color: rgb(51, 51, 51);">node_name</span></font></div></div><div><br/></div></span>
</div></body></html>