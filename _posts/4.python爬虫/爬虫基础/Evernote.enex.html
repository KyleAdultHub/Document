<html>
<head>
  <title>Evernote Export</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/307934 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1902"/>

<div>
<span><div><div><font style="background-color: rgb(255, 250, 165);font-size: 14pt;-evernote-highlight:true;"><span style="background-color: rgb(255, 250, 165); font-size: 14pt; color: rgb(50, 135, 18); font-weight: bold;-evernote-highlight:true;">Splash的功能介绍和运行</span></font></div><ul><li><div><font style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">Splash的简介</span></font></div></li><ul><li><div><span style="font-size: 9pt;">Splash是一个JavaScript渲染服务，是一个带有HTTP API的轻量级浏览器，同时它对接了Python中的Twisted和QT库。利用它，我们同样可以实现动态渲染页面的抓取。</span></div></li></ul><li><div><font style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">Splash文档</span></font></div></li><ul><li><div><font style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold;">Splash官方文档</span></font></div></li><ul><li><div><a href="https://splash.readthedocs.io/en/stable/scripting-ref.html" style="font-size: 9pt;">https://splash.readthedocs.io/en/stable/scripting-ref.html</a></div></li></ul><li><div><font style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold;">Splash-api官方文档</span></font></div></li><ul><li><div><a href="https://splash.readthedocs.io/en/stable/api.html" style="font-size: 9pt; text-decoration: underline;">https://splash.readthedocs.io/en/stable/api.html</a></div></li></ul></ul><li><div><font style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">Splash的功能</span></font></div></li><ul><li><div><span style="font-size: 9pt;">异步方式处理多个网页渲染过程；</span></div></li><li><div><span style="font-size: 9pt;">获取渲染后的页面的源代码或截图；</span></div></li><li><div><span style="font-size: 9pt;">通过关闭图片渲染或者使用Adblock规则来加快页面渲染速度；</span></div></li><li><div><span style="font-size: 9pt;">可执行特定的JavaScript脚本；</span></div></li><li><div><span style="font-size: 9pt;">可通过Lua脚本来控制页面渲染过程；</span></div></li><li><div><span style="font-size: 9pt;">获取渲染的详细过程并通过HAR（HTTP Archive）格式呈现。</span></div></li></ul><li><div><font style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">Splash服务的运行</span></font></div></li><ul><li><div><span style="font-size: 9pt;">docker run -d -p 8050:8050 scrapinghub/splash</span></div></li><ul><li><div><span style="font-size: 9pt;">打开http://localhost:8050/即可看到其Web页面</span></div></li></ul></ul><li><div><font style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">Splash-Lua脚本介绍</span></font></div></li><ul><li><div><font style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold;">Splash的运行机制</span></font></div></li><ul><li><div><span style="font-size: 9pt;">Splash加载和操作渲染过程，可以理解是由一段Lua代码来操控</span></div></li><li><div><span style="font-size: 9pt;">Splash留出来了一个main() 函数的接口，我们可以通过编写该段函数，操作其传入的splash对象，Splash会调用其指令并执行对应的操作</span></div></li><li><div><span style="font-size: 9pt;">可以在浏览器界面编写并点击render me来启动，也可以通过调用splash-api的方式来调用</span></div></li></ul><li><div><font style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold;">Splash Lua脚本示例</span></font></div></li><ul><li><div><span style="font-size: 9pt;">function main(splash, args)</span></div></li><ul><li><div><span style="font-size: 9pt;">assert(splash:go(args.url))         请求url</span></div></li><li><div><span style="font-size: 9pt;">assert(splash:wait(0.5))       等待0.5s</span></div></li><li><div><span style="font-size: 9pt;">return {       返回结果</span></div></li><ul><li><div><span style="font-size: 9pt;">html = splash:html(),            获取页面源码</span></div></li><li><div><span style="font-size: 9pt;">png = splash:png(),        获取页面截图</span></div></li><li><div><span style="font-size: 9pt;">har = splash:har(),        获取请求的详细har信息</span></div></li></ul><li><div><span style="font-size: 9pt;">}</span></div></li></ul><li><div><span style="font-size: 9pt;">end</span></div></li></ul></ul><li><div><font style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">Splash异步处理</span></font></div></li><ul><li><div><font style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold;">Splash异步的介绍</span></font></div></li><ul><li><div><span style="font-size: 9pt;">在脚本内调用的wait()方法类似于Python中的sleep()，其参数为等待的秒数。当Splash执行到此方法时，它会转而去处理其他任务，然后在指定的时间过后再回来继续处理。</span></div></li><li><div><span style="font-size: 9pt;">另外，这里做了加载时的异常检测。go()方法会返回加载页面的结果状态，如果页面出现4xx或5xx状态码，ok变量就为空</span></div></li></ul><li><div><font style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold;">Splash异步脚本示例</span></font></div></li><ul><li><div><span style="font-size: 9pt;">function main(splash, args)</span></div></li><ul><li><div><span style="font-size: 9pt;">local example_urls = {&quot;www.baidu.com&quot;, &quot;www.taobao.com&quot;, &quot;www.zhihu.com&quot;}</span></div></li><li><div><span style="font-size: 9pt;">local urls = args.urls or example_urls</span></div></li><li><div><span style="font-size: 9pt;">local results = {}</span></div></li><li><div><span style="font-size: 9pt;">for index, url in ipairs(urls) do</span></div></li><ul><li><div><span style="font-size: 9pt;">local ok, reason = splash:go(&quot;http://&quot; .. url)</span></div></li><li><div><span style="font-size: 9pt;">if ok then</span></div></li><ul><li><div><span style="font-size: 9pt;">splash:wait(2)</span></div></li><li><div><span style="font-size: 9pt;">results[url] = splash:png()</span></div></li></ul><li><div><span style="font-size: 9pt;">end</span></div></li></ul><li><div><span style="font-size: 9pt;">end</span></div></li><li><div><span style="font-size: 9pt;">return results</span></div></li></ul><li><div><span style="font-size: 9pt;">end</span></div></li></ul></ul></ul><div><font style="font-size: 14pt;"><span style="font-size: 14pt; background-color: rgb(255, 250, 165); color: rgb(50, 135, 18); font-weight: bold;-evernote-highlight:true;">Splash负载均衡的配置</span></font></div><ul><li><div><font style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">搭建多个splash服务节点</span></font></div></li><ul><li><div><span style="font-size: 9pt;">docker run -d -p 8050:8050 scrapinghub/splash</span></div></li></ul><li><div><font style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">配置负载均衡服务(使用nginx)</span></font></div></li><ul><li><div><font style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold;">nginx配置节点</span></font></div></li></ul></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 9pt;">            http {</font></div><div><font style="font-size: 9pt;">                upstream splash {</font></div><div><font style="font-size: 9pt;">                    least_conn;             </font></div><div><font style="font-size: 9pt;">                    server 41.159.27.223:8050 weight=4;</font></div><div>                    server 41.159.27.221:8050 weight=2;</div><div>                    server 41.159.27.9:8050 weight=2;</div><div>                    server 41.159.117.119:8050 weight=1;</div><div><font style="font-size: 9pt;">                }</font></div><div><font style="font-size: 9pt;">                server {</font></div><div><font style="font-size: 9pt;">                    listen 8050;</font></div><div><font style="font-size: 9pt;">                    location / {</font></div><div><font style="font-size: 9pt;">                        proxy_pass http://splash;</font></div><div><font style="font-size: 9pt;">                    }</font></div><div><font style="font-size: 9pt;">                }</font></div><div><font style="font-size: 9pt;">            }</font></div></div><ul><li><div><font style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold;">nginx配置认证</span></font></div></li><ul><li><div><span style="font-size: 9pt;">现在Splash是可以公开访问的，如果不想让其公开访问，还可以配置认证，这仍然借助于Nginx。可以在server的location字段中添加auth_basic和auth_basic_user_file字段，具体配置如下：</span></div></li><li><div><span style="font-size: 9pt;">这里使用的用户名和密码配置放置在/etc/nginx/conf.d目录下，我们需要使用htpasswd命令创建。例如，创建一个用户名为admin的文件，相关命令如下</span></div></li><li><div><span style="font-size: 9pt;">htpasswd -c .htpasswd admin</span></div></li><li><div><span style="font-size: 9pt;">接下来就会提示我们输入密码，输入两次之后，就会生成密码文件，其内容如下：</span></div></li><li><div><span style="font-size: 9pt;">配置完成后，重启一下Nginx服务： sudo nginx -s reload</span></div></li></ul></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 9pt;">                server {</font></div><div><font style="font-size: 9pt;">                    listen 8050;</font></div><div><font style="font-size: 9pt;">                    location / {</font></div><div><font style="font-size: 9pt;">                        proxy_pass <a href="http://splash/">http://splash</a>;</font></div><div><font style="font-size: 9pt;">                        auth_basic &quot;Restricted&quot;;</font></div><div><font style="font-size: 9pt;">                        auth_basic_user_file /etc/nginx/conf.d/.htpasswd;</font></div><div><font style="font-size: 9pt;">                    }</font></div><div><font style="font-size: 9pt;">                }</font></div></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; background-color: rgb(255, 250, 165); color: rgb(50, 135, 18); font-weight: bold;-evernote-highlight:true;">Splash对象的常用属性</span></font></div><ul><li><div><font style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold;">加载参数</span></font></div></li><ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold;">获取方法一</span></font></div></li></ul></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 9pt;">            function main(splash, args)</span></div><div><span style="font-size: 9pt;">                local url = args.url</span></div><div><span style="font-size: 9pt;">            end</span></div></div><ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold;">获取方法二</span></font></div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 9pt;">            function main(splash)</span></div><div><span style="font-size: 9pt;">                local url = splash.args.url</span></div><div><span style="font-size: 9pt;">            end</span></div></div><ul><li><div><font style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold;">开启关闭javascript</span></font></div></li><ul><li><div><span style="font-size: 9pt;">splash.js_enabled = false/true</span></div></li></ul><li><div><font style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold;">设置加载的超时时间</span></font></div></li><ul><li><div><span style="font-size: 9pt;">splash.resource_timeout = 2</span></div></li><ul><li><div><span style="font-size: 9pt;">单位是秒。如果设置为0或nil（类似Python中的None），代表不检测超时。</span></div></li></ul></ul><li><div><font style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold;">禁止加载图片</span></font></div></li><ul><li><div><span style="font-size: 9pt;">splash.images_enabled = true/false</span></div></li></ul><li><div><font style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold;">禁止开启插件(flash等)</span></font></div></li><ul><li><div><span style="font-size: 9pt;">splash.plugins_enabled = true/false</span></div></li></ul><li><div><font style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold;">滚动条</span></font></div></li><ul><li><div><span style="font-size: 9pt;">splash.scroll_position = {x=100, y=400}</span></div></li><ul><li><div><span style="font-size: 9pt;">滚动条向右滚动100像素，向下滚动400像素</span></div></li></ul></ul></ul><div><font style="font-size: 14pt;"><span style="font-size: 14pt; background-color: rgb(255, 250, 165); color: rgb(50, 135, 18); font-weight: bold;-evernote-highlight:true;">Splash对象常用方法</span></font></div><ul><li><div><font style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold;">请求某链接</span></font></div></li><ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold;">使用方法</span></font></div></li><ul><li><div><span style="font-size: 9pt;">splash:go{url, baseurl=nil, headers=nil, http_method=&quot;GET&quot;, body=nil, formdata=nil}</span></div></li><ul><li><div><span style="font-size: 9pt;">url：请求的URL。</span></div></li><li><div><span style="font-size: 9pt;">baseurl：可选参数，默认为空，表示资源加载相对路径。</span></div></li><li><div><span style="font-size: 9pt;">headers：可选参数，默认为空，表示请求头。</span></div></li><li><div><span style="font-size: 9pt;">http_method：可选参数，默认为GET，同时支持POST。</span></div></li><li><div><span style="font-size: 9pt;">body：可选参数，默认为空，发POST请求时的表单数据，使用的Content-type为application/json。</span></div></li><li><div><span style="font-size: 9pt;">formdata：可选参数，默认为空，POST的时候的表单数据，使用的Content-type为application/x-www-form-urlencoded。</span></div></li><li><div><span style="font-size: 9pt;">return: 结果ok和原因reason的组合，如果ok为空，代表网页加载出现了错误，此时reason变量中包含了错误的原因</span></div></li></ul></ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold;">使用示例</span></font></div></li></ul></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 9pt;">            function main(splash, args)</span></div><div><span style="font-size: 9pt;">                local ok, reason = splash:go{&quot;</span><a href="http://httpbin.org/post" style="font-size: 9pt;">http://httpbin.org/post</a><span style="font-size: 9pt;">&quot;, http_method=&quot;POST&quot;, body=&quot;name=Germey&quot;}</span></div><div><span style="font-size: 9pt;">                if ok then</span></div><div><span style="font-size: 9pt;">                    return splash:html()</span></div><div><span style="font-size: 9pt;">                end</span></div><div><span style="font-size: 9pt;">            end</span></div></div><ul><li><div><span style="font-size: 10pt; font-weight: bold;">设置定时任务</span></div></li><ul><li><div><span style="font-size: 9pt; font-weight: bold;">使用示例(0.2s后获取网页截图)</span></div></li></ul></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 9pt;"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                    function main(splash, args)</span></span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                             local snapshots = {}</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                             local timer = splash:call_later(function()</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                                 snapshots[&quot;a&quot;] = splash:png()</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                                 splash:wait(1.0)</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                                 snapshots[&quot;b&quot;] = splash:png()</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                                 end, 0.2)</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                             splash:go(&quot;</span><a href="https://www.taobao.com/" style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">https://www.taobao.com</a><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">&quot;)</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                             splash:wait(3.0)</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                             return snapshots</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                    end</span></div></div><ul><li><div><span style="font-size: 10pt; font-weight: bold;">模拟发送get请求</span></div></li><ul><li><div><span style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold;">使用方法</span></span></div></li><ul><li><div><span style="font-size: 9pt;">response = splash:http_get{url, headers=nil, follow_redirects=true}</span></div></li><ul><li><div><span style="font-size: 9pt;">url：请求URL。</span></div></li><li><div><span style="font-size: 9pt;">headers：可选参数，默认为空，请求头。</span></div></li><li><div><span style="font-size: 9pt;">follow_redirects：可选参数，表示是否启动自动重定向，默认为true</span></div></li></ul></ul><li><div><span style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold;">使用示例</span></span></div></li></ul></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 9pt;">            function main(splash, args)</span></div><div><span style="font-size: 9pt;">                local treat = require(&quot;treat&quot;)</span></div><div><span style="font-size: 9pt;">                local response = splash:http_get(&quot;<a href="http://httpbin.org/get">http://httpbin.org/get</a>&quot;)</span></div><div><span style="font-size: 9pt;">                    return {</span></div><div><span style="font-size: 9pt;">                        html=treat.as_string(response.body),</span></div><div><span style="font-size: 9pt;">                        url=response.url,</span></div><div><span style="font-size: 9pt;">                        status=response.status</span></div><div><span style="font-size: 9pt;">                    }</span></div><div><span style="font-size: 9pt;">            end</span></div></div><ul><li><div><span style="font-size: 10pt; font-weight: bold;">模拟发送post请求</span></div></li><ul><li><div><span style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold;">使用方法</span></span></div></li><ul><li><div><span style="font-size: 9pt;">response = splash:http_post{url, headers=nil, follow_redirects=true, body=nil}</span></div></li><ul><li><div><span style="font-size: 9pt;">url：请求URL。</span></div></li><li><div><span style="font-size: 9pt;">headers：可选参数，默认为空，请求头。</span></div></li><li><div><span style="font-size: 9pt;">follow_redirects：可选参数，表示是否启动自动重定向，默认为true。</span></div></li><li><div><span style="font-size: 9pt;">body：可选参数，即表单数据，默认为空。</span></div></li></ul></ul><li><div><span style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold;">使用示例</span></span></div></li></ul></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 9pt;">            function main(splash, args)</span></div><div><span style="font-size: 9pt;">                local treat = require(&quot;treat&quot;)</span></div><div><span style="font-size: 9pt;">                local json = require(&quot;json&quot;)</span></div><div><span style="font-size: 9pt;">                local response = splash:http_post{&quot;<a href="http://httpbin.org/post">http://httpbin.org/post</a>&quot;,    </span></div><div><span style="font-size: 9pt;">                    body=json.encode({name=&quot;Germey&quot;}),</span></div><div><span style="font-size: 9pt;">                    headers={[&quot;content-type&quot;]=&quot;application/json&quot;}</span></div><div><span style="font-size: 9pt;">                }</span></div><div><span style="font-size: 9pt;">                return {</span></div><div><span style="font-size: 9pt;">                    html=treat.as_string(response.body),</span></div><div><span style="font-size: 9pt;">                    url=response.url,</span></div><div><span style="font-size: 9pt;">                    status=response.status</span></div><div><span style="font-size: 9pt;">                }</span></div><div><span style="font-size: 9pt;">            end</span></div></div><ul><li><div><font style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold;">获取页面加载过程描述等信息</span></font></div></li><ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold;">使用方法</span></font></div></li><ul><li><div><span style="font-size: 9pt;">splash:har()        获取加载过程详细信息</span></div></li><li><div><span style="font-size: 9pt;">splash:url()        获取正在访问的url</span></div></li></ul></ul><li><div><span style="font-size: 10pt; font-weight: bold;">页面cookie相关操作</span></div></li><ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold;">使用方法</span></font></div></li><ul><li><div><span style="font-size: 9pt;"><span style="font-size: 9pt;">splash:get_cookies()       获取当前页面的cookie </span></span></div></li><li><div><span style="font-size: 9pt;">cookies = splash:add_cookie{name, value, path=nil, domain=nil, expires=nil, httpOnly=nil, secure=nil}    给页面添加cookie</span></div></li><li><div><span style="font-size: 9pt;">splash:clear_cookies()    清空当前页面所有cookie</span></div></li></ul></ul><li><div><font style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold;">设置页面大小</span></font></div></li><ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold;">使用方法</span></font></div></li><ul><li><div><span style="font-size: 9pt;">splash:get_viewport_size()    获取页面宽高</span></div></li><li><div><span style="font-size: 9pt;">splash:set_viewport_size(width, height)    设置页面宽高</span></div></li><li><div><span style="font-size: 9pt;">splash:set_viewport_full()    设置页面铺满</span></div></li></ul></ul><li><div><font style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold;">设置User-Agent</span></font></div></li><ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold;">使用示例</span></font></div></li></ul></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco;"><font style="font-size: 9pt;">                    function main(splash)</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                            splash:set_user_agent('Splash')</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                            splash:go(&quot;http://httpbin.org/get&quot;)</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                            return splash:html()</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                    end</font></span></div></div><ul><li><div><font style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold;">设置请求头</span></font></div></li><ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold;">使用示例</span></font></div></li></ul></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco;"><font style="font-size: 9pt;">                    function main(splash)</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                        splash:set_custom_headers({</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                                [&quot;User-Agent&quot;] = &quot;Splash&quot;,</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                                [&quot;Site&quot;] = &quot;Splash&quot;,</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                        })</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                        splash:go(&quot;http://httpbin.org/get&quot;)</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                        return splash:html()</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                    end</font></span></div></div><ul><li><div><font style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold;">节点操作</span></font></div></li><ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold;">使用方法</span></font></div></li><ul><li><div><span style="font-size: 9pt;">element = splash:select(&quot;#kw&quot;)    通过css选择器选择元素, 返回选中的第一个元素</span></div></li><li><div><span style="font-size: 9pt;">element = splash:select_all(&quot;#kw&quot;)    通过css选择器选择元素, 返回选中所有元素</span></div></li><li><div><span style="font-size: 9pt;">element.send_text('test')     向节点输入文本</span></div></li><li><div><span style="font-size: 9pt;">element.mouse_click()    点击节点</span></div></li></ul></ul><li><div><font style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold;">等待wait</span></font></div></li><ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold;">使用方法</span></font></div></li><ul><li><div><span style="font-size: 9pt;">ok, reason = splash:wait{time, cancel_on_redirect=false, cancel_on_error=true}</span></div></li><ul><li><div><span style="font-size: 9pt;">time：等待的秒数。</span></div></li><li><div><span style="font-size: 9pt;">cancel_on_redirect：可选参数，默认为false，表示如果发生了重定向就停止等待，并返回重定向结果。</span></div></li><li><div><span style="font-size: 9pt;">cancel_on_error：可选参数，默认为false，表示如果发生了加载错误，就停止等待。</span></div></li><li><div><span style="font-size: 9pt;">return: 结果ok和原因reason的组合。</span></div></li></ul></ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold;">使用示例</span></font></div></li></ul></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 9pt;">            function main(splash)</span></div><div><span style="font-size: 9pt;">                splash:go(&quot;</span><a href="https://www.taobao.com/" style="font-size: 9pt;">https://www.taobao.com</a><span style="font-size: 9pt;">&quot;)</span></div><div><span style="font-size: 9pt;">                splash:wait(2)</span></div><div><span style="font-size: 9pt;">                return {html=splash:html()}</span></div><div><span style="font-size: 9pt;">            end</span></div></div><ul><li><div><font style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold;">调用JavaScript定义的方法</span></font></div></li><ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold;">使用示例</span></font></div></li></ul></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                    function main(splash, args)</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                            local get_div_count = splash:jsfunc([[</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                                    function () {</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                                    var body = document.body;</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                                    var divs = body.getElementsByTagName('div');</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                                    return divs.length;</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                                    }</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                                    ]])</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                            splash:go(&quot;https://www.baidu.com&quot;)</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                            return (&quot;There are %s DIVs&quot;):format(get_div_count())</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                    end</font></span></div></div><ul><li><div><font style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold;">执行JavaScript代码(表达式类)</span></font></div></li><ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold;">使用示例</span></font></div></li><ul><li><div><span style="font-size: 9pt;">local title = splash:evaljs(&quot;document.title&quot;)  执行JavaScript代码并返回最后一条JavaScript语句的返回结果</span></div></li></ul></ul><li><div><font style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold;">执行JavaScript代码(声明类)</span></font></div></li><ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold;">使用示例</span></font></div></li></ul></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco;"><font style="font-size: 9pt;">                    function main(splash, args)</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                         splash:go(&quot;https://www.baidu.com&quot;)</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                          splash:runjs(&quot;foo = function() { return 'bar' }&quot;)</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                          local result = splash:evaljs(&quot;foo()&quot;)</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                          return result</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                    end</font></span></div></div><ul><li><div><font style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold;">加载js代码</span></font></div></li><ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold;">使用方法</span></font></div></li><ul><li><div><span style="font-size: 9pt;">此方法只负责加载JavaScript代码或库，不执行任何操作。如果要执行操作，可以调用evaljs()或runjs()</span></div></li><li><div><span style="font-size: 9pt;">ok, reason = splash:autoload{source_or_url, source=nil, url=nil}</span></div></li><ul><li><div><span style="font-size: 9pt;">source_or_url：JavaScript代码或者JavaScript库链接。</span></div></li><li><div><span style="font-size: 9pt;">source：JavaScript代码。</span></div></li><li><div><span style="font-size: 9pt;">url：JavaScript库链接</span></div></li></ul></ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold;">使用示例</span></font></div></li></ul></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                    function main(splash, args)</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                          splash:autoload([[</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                                  function get_document_title(){</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                                         return document.title;</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                            }</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                          ]])</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                          splash:go(&quot;https://www.baidu.com&quot;)</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                          return splash:evaljs(&quot;get_document_title()&quot;)</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                    end</font></span></div></div><ul><li><div><span style="font-size: 13.3333px;"><span style="font-size: 13.3333px; font-weight: bold;">页面内容的操作方法</span></span></div></li><ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold;">使用方法</span></font></div></li><ul><li><div><span style="font-size: 9pt;">splash:set_content(&quot;&lt;html&gt;&lt;body&gt;&lt;h1&gt;hello&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;&quot;)     添加页面内容</span></div></li><li><div><span style="font-size: 9pt;">splash:html()    获取当前页面源码</span></div></li></ul></ul><li><div><font style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold;">获取png/jpeg格式的页面截图</span></font></div></li><ul><li><div><span style="font-size: 12px;"><span style="font-size: 12px; font-weight: bold;">使用方法</span></span></div></li><ul><li><div><span style="font-size: 9pt;">splash:png()</span></div></li><li><div><span style="font-size: 9pt;">splash:jpeg()</span></div></li></ul></ul><li><div><font style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold;">设置代理</span></font></div></li><ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold;">使用示例</span></font></div></li></ul></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                    function main(splash, args)</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                           request = splash:on_request(function(request)</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                                    <span style="font-family: Monaco; color: rgb(51, 51, 51);">request:set_proxy{host, port, username=nil, password=nil, type='HTTP/SOCKS5')</span></font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                                    end)</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                    end</font></span></div></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; background-color: rgb(255, 250, 165); color: rgb(50, 135, 18); font-weight: bold;-evernote-highlight:true;">Splash-API的使用</span></font></div><ul><li><div><font style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">Splash API的介绍</span></font></div></li><ul><li><div><span style="font-size: 9pt;">Splash Lua脚本的用法，但这些脚本是在Splash页面中测试运行的</span></div></li><li><div><span style="font-size: 9pt;">Splash API就是我们可以通过python程序使用Splash服务的方法</span></div></li><li><div><span style="font-size: 9pt;">Splash给我们提供了一些HTTP API接口，我们只需要请求这些接口并传递相应的参数即可</span></div></li></ul><li><div><font style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">常用Splash API</span></font></div></li><li><div><span style="font-size: 10pt; font-weight: bold;">render.png</span></div></li><ul><li><div><span style="font-size: 9pt; font-weight: bold;">接口介绍</span></div></li><ul><li><div><span style="font-size: 9pt;">通过width和height来控制宽高，它返回的是PNG格式的图片二进制数据。示例如下</span></div></li></ul><li><div><span style="font-size: 9pt; font-weight: bold;">常用参数</span></div></li><ul><li><div><span style="font-size: 9pt;">width、height、render_all</span></div></li></ul><li><div><span style="font-size: 9pt; font-weight: bold;">使用示例</span></div></li></ul></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                        import requests</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                        url = 'http://localhost:8050/render.png?url=https://www.jd.com&amp;wait=5&amp;width=1000&amp;height=700'</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                        response = requests.get(url)</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                        with open('taobao.png', 'wb') as f:</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                               f.write(response.content)</font></span></div></div><ul><li><div><span style="font-size: 10pt; font-weight: bold;">render.html</span></div></li><ul><li><div><span style="font-size: 9pt; font-weight: bold;">接口介绍</span></div></li><ul><li><div><span style="font-size: 9pt; font-weight: bold;">此接口用于获取JavaScript渲染的页面的HTML代码，接口地址就是Splash的运行地址加此接口名称</span></div></li></ul><li><div><span style="font-size: 9pt; font-weight: bold;">常用参数</span></div></li><ul><li><div><span style="font-size: 9pt; font-weight: bold;">url 、baseurl、timeout、resource_timeout、wait、proxy、js、js_source、filter、allowed_domin</span></div></li><li><div><span style="font-size: 9pt; font-weight: bold;">allowed_content_types、viewport、images、headers、body、heep_method、save_args、load_args</span></div></li></ul><li><div><span style="font-size: 9pt; font-weight: bold;">使用示例</span></div></li></ul></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>            import requests</div><div>            url = 'http://localhost:8050/render.html?url=https://www.baidu.com'</div><div>            response = requests.get(url)</div><div>            print(response.text)</div></div><ul><li><div><font style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold;">render.har</span></font></div></li><ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold;">接口介绍</span></font></div></li><ul><li><div><span style="font-size: 9pt;">此接口用于获取页面加载的HAR数据</span></div></li></ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold;">使用示例</span></font></div></li><ul><li><div><span style="font-size: 9pt;">curl</span> <a href="http://localhost:8050/render.har?url=https://www.jd.com&amp;wait=5" style="font-size: 9pt;">http://localhost:8050/render.har?url=https://www.jd.com&amp;wait=5</a></div></li></ul></ul><li><div><font style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold;">render.json</span></font></div></li><ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold;">接口介绍</span></font></div></li><ul><li><div><span style="font-size: 9pt;">此接口包含了前面接口的所有功能，返回结果是JSON格式</span></div></li><li><div><span style="font-size: 9pt;">以JSON形式返回了相应的请求数据</span></div></li><li><div><span style="font-size: 9pt;">可以通过传入不同参数控制其返回结果。比如，传入html=1，返回结果即会增加源代码数据；传入png=1，返回结果即会增加页面PNG截图数据；传入har=1，则会获得页面HAR数据</span></div></li></ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold;">使用示例</span></font></div></li><ul><li><div><span style="font-size: 9pt;">curl</span> <a href="http://localhost:8050/render.json?url=https://httpbin.org" style="font-size: 9pt;">http://localhost:8050/render.json?url=https://httpbin.org</a></div></li></ul></ul><li><div><font style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold;">execute</span></font></div></li><ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; font-weight: bold;">接口介绍</span></font></div></li><ul><li><div><span style="font-size: 9pt;">用此接口便可实现与Lua脚本的对接</span></div></li><li><div><span style="font-size: 9pt;">可以用该接口，通过原生的Lua脚本来调用splash</span></div></li><li><div><span style="font-size: 9pt;">可以通过lua_source参数传递Lua脚本给splash服务器进行请求和渲染服务</span></div></li></ul><li><div><span style="font-size: 9pt; font-weight: bold;">常用参数</span></div></li><ul><li><div><span style="font-size: 9pt;">timeout、allowed_domains、proxy、filters、save_args、load_args</span></div></li></ul><li><div><span style="font-size: 9pt; font-weight: bold;">使用示例</span></div></li></ul></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco;"><font style="font-size: 9pt;">                        import requests</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                        from urllib.parse import quote</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                        lua = '''</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                            function main(splash)</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                                return 'hello'</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                            end</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                         '''</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                        url = 'http://localhost:8050/execute?lua_source=' + quote(lua)</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                        response = requests.get(url)</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 9pt;">                        print(response.text)</font></span></div></div><div><br/></div></div><div><br/></div></span>
</div></body></html> 