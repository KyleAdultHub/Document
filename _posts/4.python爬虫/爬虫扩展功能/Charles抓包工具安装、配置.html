---
title: Charles抓包工具安装、配置
date: "2016-01-16 23:00:00"
categories:
- python爬虫
- 爬虫扩展功能
tags:
- 爬虫
toc: true
typora-root-url: ..\..\..
---

<html>
<body>
<div>
<span><div><div><font style="color: rgb(50, 135, 18); font-size: 14pt;"><b style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">Charles介绍</b></font></div><ul><li><div><font style="font-size: 10pt;"><b>Charles的作用</b></font></div></li><ul><li><div><font style="font-size: 9pt;">Charles是一个网络抓包工具，相比Fiddler，其功能更为强大，而且跨平台支持得更好，</font></div></li><li><div><font style="font-size: 9pt;">可以选用它来作为主要的移动端抓包工具。</font></div></li></ul><li><div><font style="font-size: 10pt;"><b>相关链接</b></font></div></li><ul><li><div><font style="font-size: 9pt;">官方网站：https://www.charlesproxy.com</font></div></li><li><div><font style="font-size: 9pt;">下载链接：https://www.charlesproxy.com/download</font></div></li></ul></ul><div><font style="color: rgb(50, 135, 18); font-size: 14pt;"><b style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">Charles的配置</b></font></div><ul><li><div><font style="font-size: 10pt;"><b>HTTPS证书的配置</b></font></div></li><ul><li><div><font style="font-size: 9pt;"><b>Windows系统的证书配置</b></font></div></li><ul><li><div><font style="font-size: 9pt;">1.首先打开Charles，点击Help→SSL Proxying→Install Charles Root Certificate，即可进入证书的安装页面。</font></div></li><li><div><font style="font-size: 9pt;">2.接下来，会弹出一个安装证书的页面，点击“安装证书”按钮，就会打开证书导入向导。</font></div></li><li><div><font style="font-size: 9pt;">3.直接点击“下一步”按钮，此时需要选择证书的存储区域，点击第二个选项“将所有的证书放入下列存储”，然后点击“浏览”按钮，从中选择证书存储位置为“受信任的根证书颁发机构”，再点击“确定”按钮，然后点击“下一步”按钮。</font></div></li><li><div><font style="font-size: 9pt;">4.再继续点击“下一步”按钮完成导入。</font></div></li></ul><li><div><font style="font-size: 9pt;"><b>Mac系统的证书配置</b></font></div></li><ul><li><div><font style="font-size: 9pt;">1.如果你的PC是Mac系统，可以按照下面的操作进行证书配置。</font></div></li><li><div><font style="font-size: 9pt;">2.同样是点击Help→SSL Proxying→Install Charles Root Certificate，即可进入证书的安装页面。</font></div></li><li><div><font style="font-size: 9pt;">3.接下来，找到Charles的证书并双击，将“信任”设置为“始终信任”即可，如图1-48所示。</font></div></li><li><div><font style="font-size: 9pt;"><img src="/e_img/https://qiniu.cuiqingcai.com/wp-content/uploads/2018/02/1-48.jpg"></img><img src="/e_img/Charles抓包工具安装、配置_files/Image.png" type="image/png" data-filename="Image.png" width="588"/></font></div></li></ul></ul><li><div><font style="font-size: 10pt;"><b>代理配置</b></font></div></li><ul><li><div><font style="font-size: 9pt;">具体操作是点击Proxy→Proxy Settings，打开代理设置页面，确保当前的HTTP代理是开启的，如图1-49所示。这里的代理端口为8888，也可以自行修改。</font></div></li><li><div><font style="font-size: 9pt;"><img src="/e_img/Charles抓包工具安装、配置_files/Image [1].png" type="image/png" data-filename="Image.png" width="366"/></font></div></li></ul><li><div><font style="font-size: 10pt;"><b>将手机连接到Charles并安装证书</b></font></div></li><ul><li><div><font style="font-size: 9pt;"><b>ios系统</b></font></div></li><ul><li><div><font style="font-size: 9pt;">1.将手机和电脑连在同一个局域网下，可以将PC设置为热点，手机连接其热点</font></div></li><li><div><font style="font-size: 9pt;">2.将PC的ip设置为手机的代理ip，Settings &gt; General &gt; Network &gt; Wi-Fi.</font></div></li><ul><li><div><font style="font-size: 9pt;"><img src="/e_img/Charles抓包工具安装、配置_files/Image [2].png" type="image/png" data-filename="Image.png" width="272"/></font></div></li></ul><li><div><font style="font-size: 9pt;">3.设置完毕后，电脑上会出现一个提示窗口，询问是否信任此设备，此时点击Allow按钮即可。这样手机就和PC连在同一个局域网内了，而且设置了Charles的代理，即Charles可以抓取到流经App的数据包了。</font></div></li><li><div><font style="font-size: 9pt;">4.安装Charles的HTTPS证书，在电脑上打开Help→SSL Proxying→Install Charles Root Certificate on a Mobile Device or Remote Browser</font></div></li><ul><li><div><font style="font-size: 9pt;"><img src="/e_img/Charles抓包工具安装、配置_files/Image [3].png" type="image/png" data-filename="Image.png" width="348"/></font></div></li></ul><li><div><font style="font-size: 9pt;">5.在手机浏览器中打开chls.pro/ssl下载证书，点击“设置”→“通用”→“关于本机”→“证书信任设置”中将证书的完全信任开关打开。</font></div></li></ul><li><div><font style="font-size: 9pt;"><b> Android系统</b></font></div></li><ul><li><div><font style="font-size: 9pt;">1.将手机和电脑连在同一个局域网下，可以将PC设置为热点，手机连接其热点</font></div></li><li><div><font style="font-size: 9pt;">2.将PC的ip设置为手机的代理ip，Settings &gt; Wi-Fi &gt; hold current Wi-Fi network &gt; Modify Network &gt; Show advanced options &gt; Proxy settings</font></div></li><li><div><font style="font-size: 9pt;">3.设置完毕后，电脑上就会出现一个提示窗口，询问是否信任此设备, 此时直接点击Allow按钮即可。</font></div></li><li><div><font style="font-size: 9pt;">4.安装Charles的HTTPS证书，在电脑上打开Help→SSL Proxying→Install Charles Root Certificate on a Mobile Device or Remote Browser</font></div></li></ul></ul></ul><ul><li><div><font style="font-size: 9pt;">5. 在手机浏览器上打开chls.pro/ssl，这时会出现一个提示框，为证书添加一个名称，然后点击“确定”按钮即可完成证书的安装。</font></div></li></ul><div><font style="font-size: 9pt;"><br/></font></div></div><div><br/></div></span>
</div></body></html>